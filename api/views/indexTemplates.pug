doctype html
head
  meta(charset='UTF-8')
  meta(http-equiv='X-UA-Compatible' content='IE=edge')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  title Just Links
  link(rel='shortcut icon' href='/img/favicon.ico' type='image/x-icon')
  link(rel='stylesheet' href='/css/style2.css')
  link(rel='stylesheet' href='/css/icofont/icofont.min.css')
  script(src='/js/MiniMasonry.js-master/build/minimasonry.min.js')
  script(type='module' src='/js/scripts3.js')
  script(src='/js/search.js')
  script(type='module' src='/js/sidepanel.js')
  script(type='module' src='/js/functions.mjs')
  script(type='module' src='/js/styles.js')
body(data-desk= escritorioSelected)
script.
  if (window.localStorage.getItem('theme')) {
    const theme = JSON.parse(window.localStorage.getItem('theme'))
    document.documentElement.classList.add(theme)
  }
  if (window.localStorage.getItem('accentColor')) {
    const color = JSON.parse(window.localStorage.getItem('accentColor'))
    document.documentElement.style.setProperty('--accentColor', color)
  }
  if (window.localStorage.getItem('bodyBackground')) {
    const url = JSON.parse(window.localStorage.getItem('bodyBackground'))
    document.body.style.backgroundImage = `url(${url})`
  }
include includes/header.pug
.container
  div(id=escritorioSelected + 'Cols' class='cuerpoInt' data-id='columns')
    - var contador = {}
    each val in columnas
      .envolt(orden= `${val.order}`)
        .headercolumn
          h2.ctitle= val.name
        
        - var item = val.name
        if contador.hasOwnProperty(item)
          - var numero = contador[item] + 1
          - contador[item] = numero
          div(id=escritorioSelected + val.name + numero, class='columna', data-db=`${val._id}`)
            each link in links
              if link.idpanel == val._id
                .link(id=`${link._id}` orden= `${link.orden}`)
                  img(src=`${link.imgURL}`)
                  a(href= `${link.URL}` target='_blank' title= `${link.name}`)
                    span.title #{link.name}
                    span.description #{link.description}
                  .lcontrols
                    span.icofont-ui-edit.showPanel
            if val.vacio == true
              .link(orden='0')
        else
          - contador[item] = 1
          div(id=escritorioSelected + val.name, class='columna', data-db=`${val._id}`)
            each link in links
              if link.idpanel == val._id
                .link(id=`${link._id}` orden= `${link.orden}`)
                  img(src=`${link.imgURL}`)
                  a(href= `${link.URL}` target='_blank' title= `${link.name}`)
                    span.title #{link.name}
                    span.description #{link.description}
                  .lcontrols
                    span.icofont-ui-edit.showPanel
            if val.vacio == true
              .link(orden='0')
include includes/forms.pug
.sideInfo
      span#reloj
      p#saludo Buenos d√≠as #{user}
      div
        svg#hidePanels.ui-icon(xmlns='http://www.w3.org/2000/svg' fill='none' viewbox='0 0 24 24' stroke-width='1.5' stroke='currentColor')
          path(stroke-linecap='round' stroke-linejoin='round' d='M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88')
        svg#editDesk.ui-icon.icofont-ui-edit(xmlns='http://www.w3.org/2000/svg' fill='none' viewbox='0 0 24 24' stroke-width='1.5' stroke='currentColor' aria-hidden='true')
          path(stroke-linecap='round' stroke-linejoin='round' d='M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10')
        svg#addCol.ui-icon.icofont-ghost(xmlns='http://www.w3.org/2000/svg' fill='none' viewbox='0 0 24 24' stroke-width='1.5' stroke='currentColor' aria-hidden='true')
          path(stroke-linecap='round' stroke-linejoin='round' d='M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z')
        h1#deskTitle.deskTitle= escritorioSelectedFormat
      - if (columnas)
        - const tamanoSubarray = 4
        - const subarrays = []
        - for (let i = 0; i < columnas.length; i += tamanoSubarray)
          - const subarray = columnas.slice(i, i + tamanoSubarray)
          - subarrays.push(subarray)
        each item in subarrays
          .sect
            each it in item
              p= it.name
include includes/sidepanel.pug
#myModal.modal
    span.close &times;
    img#img01.modal-content
    #caption
script(src='/js/Sortable-master/Sortable.min.js')